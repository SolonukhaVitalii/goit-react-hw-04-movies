{"version":3,"sources":["services/movie-api.js","components/HomePage/HomePage.jsx"],"names":["KEY","fetchTrending","API","Axios","get","then","res","status","Error","statusText","fetchMovieDetails","id","fetchMovieCast","fetchMovieReviews","fetchMovies","query","HomePage","state","trending","componentDidMount","data","setState","results","this","map","el","media_type","to","pathname","from","props","location","title","Component"],"mappings":"yIAAA,+LAEMA,EAAM,mCAECC,EAAgB,WAC3B,IAAMC,EAAG,gEAA4DF,GACrE,OAAOG,IAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACzB,GAAmB,MAAfA,EAAIC,OAAgB,OAAOD,EAC/B,MAAME,MAAM,GAAD,OAAIF,EAAIC,OAAR,YAAkBD,EAAIG,iBAIxBC,EAAoB,SAAAC,GAC/B,IAAMT,EAAG,6CAAyCS,EAAzC,oBAAuDX,EAAvD,mBACT,OAAOG,IAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACzB,GAAmB,MAAfA,EAAIC,OAAgB,OAAOD,EAC/B,MAAME,MAAM,GAAD,OAAIF,EAAIC,OAAR,YAAkBD,EAAIG,iBAIxBG,EAAiB,SAAAD,GAC5B,IAAMT,EAAG,6CAAyCS,EAAzC,4BAA+DX,GACxE,OAAOG,IAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACzB,GAAmB,MAAfA,EAAIC,OAAgB,OAAOD,EAC/B,MAAME,MAAM,GAAD,OAAIF,EAAIC,OAAR,YAAkBD,EAAIG,iBAIxBI,EAAoB,SAAAF,GAC/B,IAAMT,EAAG,6CAAyCS,EAAzC,4BAA+DX,EAA/D,0BACT,OAAOG,IAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACzB,GAAmB,MAAfA,EAAIC,OAAgB,OAAOD,EAC/B,MAAME,MAAM,GAAD,OAAIF,EAAIC,OAAR,YAAkBD,EAAIG,iBAIxBK,EAAc,SAAAC,GACzB,IAAMb,EAAG,4DAAwDF,EAAxD,iCAAoFe,EAApF,+BACT,OAAOZ,IAAMC,IAAIF,GAAKG,MAAK,SAAAC,GACzB,GAAmB,MAAfA,EAAIC,OAAgB,OAAOD,EAC/B,MAAME,MAAM,GAAD,OAAIF,EAAIC,OAAR,YAAkBD,EAAIG,kB,gJCHtBO,E,4MAhCbC,MAAQ,CAAEC,SAAU,I,EACpBC,kBAAoB,WAClBlB,cAAgBI,MAAK,gBAAGe,EAAH,EAAGA,KAAH,OACnB,EAAKC,SAAS,CAAEH,SAAUE,EAAKE,c,4CAGnC,WAAU,IAAD,OACCJ,EAAaK,KAAKN,MAAlBC,SACR,OACE,eAAC,WAAD,WACE,gDACA,6BACGA,EAASM,KAAI,SAAAC,GAAE,MACI,UAAlBA,EAAGC,WACD,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaH,EAAGd,IACxBM,MAAO,CAAEY,KAAM,EAAKC,MAAMC,WAH9B,SAMGN,EAAGO,SAPCP,EAAGd,IAUV,iB,GAzBOsB","file":"static/js/6.7014c553.chunk.js","sourcesContent":["import Axios from 'axios';\r\n\r\nconst KEY = 'ab234249b42ad0b5c11163146e7a690b';\r\n\r\nexport const fetchTrending = () => {\r\n  const API = `https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`;\r\n  return Axios.get(API).then(res => {\r\n    if (res.status === 200) return res;\r\n    throw Error(`${res.status} ${res.statusText}`);\r\n  });\r\n};\r\n\r\nexport const fetchMovieDetails = id => {\r\n  const API = `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`;\r\n  return Axios.get(API).then(res => {\r\n    if (res.status === 200) return res;\r\n    throw Error(`${res.status} ${res.statusText}`);\r\n  });\r\n};\r\n\r\nexport const fetchMovieCast = id => {\r\n  const API = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`;\r\n  return Axios.get(API).then(res => {\r\n    if (res.status === 200) return res;\r\n    throw Error(`${res.status} ${res.statusText}`);\r\n  });\r\n};\r\n\r\nexport const fetchMovieReviews = id => {\r\n  const API = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`;\r\n  return Axios.get(API).then(res => {\r\n    if (res.status === 200) return res;\r\n    throw Error(`${res.status} ${res.statusText}`);\r\n  });\r\n};\r\n\r\nexport const fetchMovies = query => {\r\n  const API = `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\r\n  return Axios.get(API).then(res => {\r\n    if (res.status === 200) return res;\r\n    throw Error(`${res.status} ${res.statusText}`);\r\n  });\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchTrending } from '../../services/movie-api';\r\n\r\nclass HomePage extends Component {\r\n  state = { trending: [] };\r\n  componentDidMount = () => {\r\n    fetchTrending().then(({ data }) =>\r\n      this.setState({ trending: data.results }),\r\n    );\r\n  };\r\n  render() {\r\n    const { trending } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <h1>Trending today</h1>\r\n        <ul>\r\n          {trending.map(el =>\r\n            el.media_type === 'movie' ? (\r\n              <li key={el.id}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `/movies/${el.id}`,\r\n                    state: { from: this.props.location },\r\n                  }}\r\n                >\r\n                  {el.title}\r\n                </Link>\r\n              </li>\r\n            ) : null,\r\n          )}\r\n        </ul>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;"],"sourceRoot":""}